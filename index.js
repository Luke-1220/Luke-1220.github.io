var data = [




{
url: "https://luke-1220.github.io/post/search/",
title: "ã€Hugoã€‘ã‚µã‚¤ãƒˆå†…æ¤œç´¢æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ãŸ",
ctime: "2020/11/23",
content: "[Clarityãƒ†ãƒ¼ãƒã§ä½œã‚Šç›´ã—ãŸæ–°ã—ã„ã‚µã‚¤ãƒˆã«ã€æ¤œç´¢æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ ã¯ã˜ã‚ã« å³å´ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆã‚¹ãƒãƒ›ã ã¨ã“ã®è¨˜äº‹ã®ä¸‹ï¼‰ã«ã€ã€Œsearchã€ã¨ã„ã†ãƒãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã“ã«å…¥åŠ›ã—ã¦ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ã€æ–°ã—ãä½œæˆã—ãŸæ¤œç´¢ç”¨ãƒšãƒ¼ã‚¸ã«é£›ã³ã¾ã™ã€‚ è¤‡æ•°ãƒ¯ãƒ¼ãƒ‰ã®æ¤œç´¢ãªã©è³¢ã„ã“ã¨ã¯ã§ãã¾ã›ã‚“ãŒã€æ¤œç´¢çµæœã®èª­ã¿è¾¼ã¿ãŒé€Ÿãã€ã‚ã¾ã‚Šè² è·ã‚‚ã‹ã‹ã‚Šã¾ã›ã‚“ã€‚ ä»Šå›ã¯ã“ã‚Œã®ä½œã‚Šæ–¹ã‚’ã–ã£ã¨èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚ è‡ªåˆ†ã¯HTMLã‚‚JSã‚‚åˆå¿ƒè€…ã®ãŸã‚ã€é–“é•ã£ã¦ã„ã‚‹ã¨ã“ã‚ã‚„æ›¸ãç›´ã—ãŸæ–¹ãŒã„ã„è¡¨è¨˜ãŒã‚ã‚Œã°ã”æŒ‡æ‘˜ãŠé¡˜ã„ã—ã¾ã™ğŸ™‡â€â™‚ï¸ å‚è€ƒ Hugoã«å…¨æ–‡æ¤œç´¢ã‚’å–ã‚Šä»˜ã‘ãŸ JavaScriptã«Blogã®å…¨æ–‡æ¤œç´¢ã‚’ã‚„ã‚‰ã›ã¦ã¿ã‚‹ ä¸‹ã®ã‚µã‚¤ãƒˆã¯Hugoã§ã¯ãªã„ã§ã™ãŒã€ä¸Šã®ã‚µã‚¤ãƒˆã®æ–¹æ³•ã§ã¯ã‚³ãƒ¼ãƒ‰ãŒã»ã¼ãã®ã¾ã¾æµç”¨ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ ã“ã“ã§ç´¹ä»‹ã™ã‚‹ã®ã¯ã€ãã‚Œã«ã„ãã¤ã‹æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸã‚‚ã®ã§ã™ã€‚ æ‰‹é † 1.æ¤œç´¢ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆ ã¾ãšã¯æ¤œç´¢ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ä½¿ã†ã€jsã®é…åˆ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ã€‚ Hugoãªã‚‰ã§ã¯ã®æ–¹æ³•ã ã¨æ€ã„ã¾ã™ãŒã€è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ©ç”¨ã—ã¦ä½œæˆã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚ MarkDownã‚’ç”¨æ„ content/indexjs.mdã‚’ä½œæˆã—ã€ä»¥ä¸‹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚ 1--- 2date: 2020-11-22T15:04:16&#43;09:00 3type: &amp;#34;js&amp;#34; 4url: &amp;#34;index.js&amp;#34; 5--- HTMLã‚’ç”¨æ„ æ¬¡ã«ã€layouts/js/single.htmlã‚’ä½œæˆã—ã¾ã™ã€‚ 1var data = [{{ range $index, $page := where .Site.Pages &amp;#34;Section&amp;#34; &amp;#34;post&amp;#34;}} 2{{ if ne $page.Title &amp;#34;Posts&amp;#34; }} 3{{ if ne $index 1 }},{{ end }} 4{ 5url: &amp;#34;{{ $page.Permalink }}&amp;#34;, 6title: &amp;#34;{{ $page.Title }}&amp;#34;, 7ctime: &amp;#34;{{ $page.Date.Format &amp;#34;20060102&amp;#34; }}&amp;#34;, 8content: &amp;#34;{{ .PlainWords }}&amp;#34; 9} 10{{ end }} 11{{ end }}] æ§‹é€  å…ˆã»ã©ã®MarkDownã§typeã‚’jsã«æŒ‡å®šã—ã¦ã„ã‚‹ã®ã§ã€layouts/jsä¸‹ã®HTMLãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã™ã€‚ ãã—ã¦ã“ã®JavaScriptã«ã—ã‹è¦‹ãˆãªã„HTMLãŒèª­ã¿è¾¼ã¾ã‚Œã€ãƒ•ã‚¡ã‚¤ãƒ«åãŒMarkDownã§æŒ‡å®šã•ã‚ŒãŸindex.jsã«ãªã‚‹ã‚ã‘ã§ã™ã€‚ è£œè¶³ ã¡ãªã¿ã«ã€å‚è€ƒã‚µã‚¤ãƒˆã«ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã«å°‘ã—æ‰‹ã‚’åŠ ãˆã¦ã„ã¾ã™ãŒã€ãã‚Œã¯ä»¥ä¸‹ã®ã‚ˆã†ãªè¬ã®è¦ç´ ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã‚’é˜²ããŸã‚ã§ã™ã€‚ 1{ 2url: &amp;#34;https://luke1220.tk/post/&amp;#34;, 3title: &amp;#34;Posts&amp;#34;, 4ctime: &amp;#34;20200804&amp;#34;, 5content: &amp;#34;[]&amp;#34; 6} 2.æ¤œç´¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ æ¤œç´¢ãƒšãƒ¼ã‚¸ã¯ä¸€å¿œè¨˜äº‹ãƒšãƒ¼ã‚¸ã¨ã„ã†ã“ã¨ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ã¾ãšã¯search.mdã¨ã„ã†åå‰ã§è¨˜äº‹ã‚’ä½œæˆã—ã¾ã—ãŸã€‚ 1--- 2title: &amp;#34;Search&amp;#34; 3date: 2020-11-22T15:07:31&#43;09:00 4type: &amp;#34;search&amp;#34; 5--- å¾Œã‹ã‚‰ã“ã®ãƒšãƒ¼ã‚¸ã®HTMLã‚’å¤‰æ›´ã—ã¦ã—ã¾ã†ã®ã§ã€æƒ…å ±ã¯ã“ã‚Œã ã‘ã§ã„ã„ã§ã™ã€‚ è¨˜äº‹ã®å†…å®¹ã‚‚è¦ã‚Šã¾ã›ã‚“ã€‚ ã“ã®å¾Œã€MarkDownã«ãã®ã¾ã¾æ¤œç´¢ç”¨ã®JavaScriptã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã¨ã„ã†æ‰‹ã‚‚ã‚ã‚Šã¾ã™ãŒã€ ãã‚Œã ã¨ã†ã¾ãå‹•ã‹ãªã„ã®ã§åˆ¥ã®æ–¹æ³•ã‚’ã¨ã‚Šã¾ã™ã€‚ 3.æ¤œç´¢ãƒšãƒ¼ã‚¸ã®HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ layouts/search/single.htmlã‚’ä½œæˆã€‚ ãƒ†ãƒ¼ãƒã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ãŒã€è¨˜äº‹ãƒšãƒ¼ã‚¸ã®HTMLãŒthemes/ãƒ†ãƒ¼ãƒå/layouts/_default/single.htmlç­‰ã‚ã‚‹ã¨æ€ã„ã¾ã™ã®ã§ ãã®å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦æ¥ã¦ãã ã•ã„ã€‚ ãã®ä¸­ã®è¨˜äº‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹éƒ¨åˆ†ã‚’å‰Šé™¤ã—ã¦ã€ä»£ã‚ã‚Šã«ã“ã®æ¤œç´¢ç”¨ã®HTMLã‚’è¿½åŠ ã—ã¦ã„ã£ã¦ãã ã•ã„ã€‚ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’èª­ã¿è¾¼ã¿ çµ¶å¯¾URLã‚’æ›¸ãã®ã¯å«Œãªã®ã§ã€Hugoã®æ©Ÿèƒ½ï¼ˆGoLangè¡¨è¨˜ï¼‰ã‚’åˆ©ç”¨ã—ã¦ã¿ã¾ã—ãŸã€‚ 1&amp;lt;script src=&amp;#39;{{ absURL &amp;#34;index.js&amp;#34; }}&amp;#39;&amp;gt;&amp;lt;/script&amp;gt; æ¤œç´¢ç”¨ã®divã‚’ç”¨æ„ å‚è€ƒã‚µã‚¤ãƒˆã§ã¯dl dtã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã—ãŸãŒã€ã“ã“ã§ã¯ãƒ†ãƒ¼ãƒã®è¨˜äº‹ãƒªã‚¹ãƒˆã£ã½ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã™ã‚‹ãŸã‚ã«ã€ ul liã‚¿ã‚°ã‚’ä½¿ã„ã¾ã™ã€‚ ã¾ãŸã€ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã‚„çŸ¢å°ã‚­ãƒ¼ã§ãƒšãƒ¼ã‚¸ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹æ©Ÿèƒ½ã‚‚è¦ã‚‰ãªã„ã®ã§å–ã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ 1&amp;lt;div id=&amp;#34;searchbox&amp;#34;&amp;gt; 2 &amp;lt;input type=&amp;#34;text&amp;#34; id=&amp;#34;input&amp;#34; onkeyup=&amp;#34;do_find(this.value)&amp;#34; autocomplete=&amp;#34;off&amp;#34; autofocus&amp;gt; 3 &amp;lt;span id=&amp;#34;stat&amp;#34;&amp;gt;&amp;lt;/span&amp;gt; 4&amp;lt;/div&amp;gt; 5&amp;lt;ul class=&amp;#34;posts&amp;#34; id=&amp;#34;result&amp;#34;&amp;gt;&amp;lt;/ul&amp;gt; 6&amp;lt;div id=&amp;#34;navi&amp;#34;&amp;gt;&amp;lt;/div&amp;gt; JavaScriptã‚’ç”¨æ„ ã‹ãªã‚Šé•·ã„ã®ã§ã€ã¨ã‚Šã‚ãˆãšã‚³ãƒ”ãƒšã—ã¦ãã ã•ã„ã€‚ è§£èª¬ã‚„å¤‰æ›´ç‚¹ã¯æ¬¡ã«æ›¸ãã¾ã™ã€‚ (â†“æŠ˜ã‚ŠãŸãŸã¾ã‚Œã¦ã„ã‚‹ã®ã§ã”æ³¨æ„ãã ã•ã„) 1&amp;lt;script&amp;gt; 2{ 3 $_ = String.prototype; 4 5 $_.mReplace = function(pat,flag){ 6 var temp = this; 7 if(!flag){flag=&amp;#34;&amp;#34;} 8 for(var i in pat){ 9 var re = new RegExp(i,flag); 10 temp = temp.replace(re,pat[i]) 11 } 12 return temp; 13 }; 14} 15 16{ 17 $_ = Date.prototype; 18 19 $_.format = &amp;#34;yyyy-mm-dd HH:MM:SS&amp;#34;; 20 $_.formatTime = function(format){ 21 var yy; 22 var o = { 23 yyyy : ((yy = this.getYear()) &amp;lt; 2000)? yy&#43;1900 : yy, 24 mm : this.getMonth() &#43; 1, 25 dd : this.getDate(), 26 HH : this.getHours(), 27 MM : this.getMinutes(), 28 SS : this.getSeconds() 29 } 30 for(var i in o){ 31 if (o[i] &amp;lt; 10) o[i] = &amp;#34;0&amp;#34; &#43; o[i]; 32 } 33 return (format) ? format.mReplace(o) : this.format.mReplace(o); 34 } 35} 36&amp;lt;/script&amp;gt; 37&amp;lt;script&amp;gt; 38var bodylist = []; 39var st = gid(&amp;#34;stat&amp;#34;); 40var re = gid(&amp;#34;result&amp;#34;); 41var nv = gid(&amp;#34;navi&amp;#34;); 42var max = 5; 43function gid(id){ 44 return document.getElementById(id); 45} 46function ignore_case(){ 47 var a = arguments; 48 return &amp;#34;[&amp;#34; &#43; a[0] &#43; a[0].toUpperCase() &#43; &amp;#34;]&amp;#34; 49} 50function do_find(v){ 51 const input = document.getElementById(&amp;#34;input&amp;#34;) 52 window.history.replaceState(0, 0,&amp;#34;./?q=&amp;#34;&#43;input.value); 53 54 if(this.lastquery == v){return} 55 this.lastquery = v; 56 var re = find(v); 57 if(re.length){ 58 pagenavi(re); 59 view(re) 60 } 61} 62function find(v){ 63 var query = v; 64 if(!v){return []} 65 var aimai; 66 if(query){ 67 68 69 aimai = query.replace(/[a-z]/g,ignore_case); 70 try{ 71 reg = new RegExp(aimai,&amp;#34;g&amp;#34;); 72 }catch(e){ 73 reg = /(.)/g; 74 } 75 }else{ 76 reg = /(.)/g; 77 } 78 var result = []; 79 for(var i=0;i&amp;lt;data.length;i&#43;&#43;){ 80 81 var s = bodylist[i]; 82 var res = reg.exec(s); 83 if(!res){continue} 84 var len = res[0].length; 85 var idx = res.index; 86 if(idx != -1){ 87 result.push([i,idx,len]); 88 } 89 } 90 if(result.length){ 91 st.innerHTML = result.length &#43;&amp;#34; / &amp;#34;&#43; data.length; 92 } 93 return result; 94} 95function snippet(body,idx,len){ 96 var start = idx - 20; 97 return [ 98 body.substring(start,idx), 99 ,&amp;#34;&amp;lt;b&amp;gt;&amp;#34; 100 ,body.substr(idx,len) 101 ,&amp;#34;&amp;lt;/b&amp;gt;&amp;#34; 102 ,body.substr(idx&#43;len,50), 103 ,&amp;#34;...&amp;#34; 104 ].join(&amp;#34;&amp;#34;); 105} 106function pagenavi(result){ 107 var len = result.length; 108 var ct = Math.ceil(len/max); 109 var buf = []; 110 for(var i=0;i&amp;lt;ct;i&#43;&#43;){ 111 buf.push( 112 &amp;#34;&amp;lt;span onclick=&amp;#39;view(\&amp;#34;\&amp;#34;,&amp;#34; 113 ,i&#43;1 114 ,&amp;#34;);sw(&amp;#34;,i,&amp;#34;)&amp;#39;&amp;gt;&amp;#34; 115 ,i&#43;1 116 ,&amp;#34;&amp;lt;/span&amp;gt;&amp;#34; 117 ); 118 } 119 nv.innerHTML = buf.join(&amp;#34;&amp;#34;); 120 sw(0); 121} 122function sw(t){ 123 var span = nv.getElementsByTagName(&amp;#34;span&amp;#34;); 124 for(var i=0;i&amp;lt;span.length;i&#43;&#43;){ 125 span[i].className = (i==t)?&amp;#34;selected&amp;#34;:&amp;#34;&amp;#34;; 126 } 127} 128function mv(to){ 129 var span = nv.getElementsByTagName(&amp;#34;span&amp;#34;); 130 var current; 131 if(!span.length){return} 132 for(var i=0;i&amp;lt;span.length;i&#43;&#43;){ 133 if(span[i].className == &amp;#34;selected&amp;#34;){ 134 current = i;break; 135 } 136 } 137 var moveto = current&#43;to; 138 if(moveto &amp;lt; 0){return} 139 if(moveto &amp;gt; span.length-1){moveto=0} 140 sw(moveto); 141 view(&amp;#34;&amp;#34;,moveto&#43;1) 142} 143function view(result,offset){ 144 if(!offset){offset = 1} 145 if(!result){ 146 result = this.last.reverse(); 147 }else{ 148 this.last = result; 149 } 150 var r = result.reverse(); 151 var buf = [&amp;#34;&amp;lt;dl&amp;gt;&amp;#34;]; 152 var count = 0; 153 for(var i=(offset-1)*max;i&amp;lt;r.length;i&#43;&#43;){ 154 count&#43;&#43;; 155 if(count &amp;gt; max){break} 156 var num = r[i][0]; 157 var idx = r[i][1]; 158 var len = r[i][2]; 159 with(data[num]){ 160 buf.push( 161 &amp;#34;&amp;lt;li class=&amp;#39;post_item&amp;#39;&amp;gt;&amp;lt;div class=&amp;#39;excerpt&amp;#39;&amp;gt;&amp;lt;div class=&amp;#39;excerpt_header&amp;#39;&amp;gt;&amp;lt;a href=&amp;#39;&amp;#34;,url,&amp;#34;&amp;#39;&amp;gt;&amp;lt;h3 class=&amp;#39;post_link&amp;#39;&amp;gt;&amp;#34; 162 ,title||&amp;#34;ç„¡é¡Œ&amp;#34;,&amp;#34;&amp;lt;/a&amp;gt;&amp;lt;/h3&amp;gt;&amp;#34; 163 ,&amp;#34;&amp;lt;div class=&amp;#39;post_meta&amp;#39;&amp;gt;&amp;lt;svg class=&amp;#39;icon&amp;#39;&amp;gt;&amp;lt;use xlink:href=&amp;#39;#calendar&amp;#39;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;&amp;lt;span class=&amp;#39;post_date&amp;#39;&amp;gt;&amp;#34; 164 ,ctime 165 ,&amp;#34;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&amp;#39;excerpt_footer&amp;#39;&amp;gt;&amp;lt;p&amp;gt;&amp;#34; 166 ,snippet(bodylist[num],idx,len) 167 ,&amp;#34;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/li&amp;gt;&amp;#34; 168 ); 169 } 170 } 171 re.innerHTML = buf.join(&amp;#34;&amp;#34;); 172} 173for(var i=0;i&amp;lt;data.length;i&#43;&#43;){ 174 bodylist.push(data[i].title&#43; &amp;#34; &amp;#34; &#43;data[i].content); 175} 176var bodyidx = bodylist.join(&amp;#34;&amp;lt;&amp;gt;&amp;#34;); 177&amp;lt;/script&amp;gt; å¤‰æ›´ç‚¹ ãƒªã‚¹ãƒˆé …ç›®éƒ¨åˆ† 1buf.push( 2 &amp;#34;&amp;lt;li class=&amp;#39;post_item&amp;#39;&amp;gt;&amp;lt;div class=&amp;#39;excerpt&amp;#39;&amp;gt;&amp;lt;div class=&amp;#39;excerpt_header&amp;#39;&amp;gt;&amp;lt;a href=&amp;#39;&amp;#34;,url,&amp;#34;&amp;#39;&amp;gt;&amp;lt;h3 class=&amp;#39;post_link&amp;#39;&amp;gt;&amp;#34; 3 ,title||&amp;#34;ç„¡é¡Œ&amp;#34;,&amp;#34;&amp;lt;/a&amp;gt;&amp;lt;/h3&amp;gt;&amp;#34; 4 ,&amp;#34;&amp;lt;div class=&amp;#39;post_meta&amp;#39;&amp;gt;&amp;lt;svg class=&amp;#39;icon&amp;#39;&amp;gt;&amp;lt;use xlink:href=&amp;#39;#calendar&amp;#39;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;&amp;lt;span class=&amp;#39;post_date&amp;#39;&amp;gt;&amp;#34; 5 ,ctime 6 ,&amp;#34;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&amp;#39;excerpt_footer&amp;#39;&amp;gt;&amp;lt;p&amp;gt;&amp;#34; 7 ,snippet(bodylist[num],idx,len) 8 ,&amp;#34;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/li&amp;gt;&amp;#34; 9); ã“ã‚Œã¯ã€è¨˜äº‹ã®ãƒªã‚¹ãƒˆã®HTMLã‚’ä½œæˆã™ã‚‹éƒ¨åˆ†ã§ã™ã€‚ è‡ªåˆ†ã®å ´åˆã¯ã€Clarityãƒ†ãƒ¼ãƒã®è¨˜äº‹ãƒªã‚¹ãƒˆã‚’å†ç¾ã™ã‚‹ãŸã‚ã«ã“ã®ã‚ˆã†ãªæ§‹é€ ã«ãªã£ã¦ã„ã¾ã™ãŒã€å„è‡ªç·¨é›†ã—ã¦ãã ã•ã„ã€‚ urlï¼ˆè¨˜äº‹URLï¼‰ã€titleï¼ˆè¨˜äº‹åï¼‰ã€ctimeï¼ˆä½œæˆæ—¥ï¼‰ã€snippet(bodylist[num],idx,len)ï¼ˆæœ¬æ–‡ï¼‰ã§ã™ã€‚ URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ 1const input = document.getElementById(&amp;#34;input&amp;#34;) 2window.history.replaceState(0, 0,&amp;#34;./?q=&amp;#34;&#43;input.value); ã“ã“ã§ã¯ã€å…¥åŠ›ã•ã‚Œã‚‹åº¦ã«URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ›¸ãæ›ãˆã¦ã„ã¾ã™ã€‚ 4.URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¯¾å¿œ 1&amp;lt;script&amp;gt; 2 window.onload = function () { 3 const searchParams = new URLSearchParams(decodeURI(location.search)); 4 const param = searchParams.get(&amp;#39;q&amp;#39;); 5 var input = document.getElementById(&amp;#39;input&amp;#39;); 6 input.value = param; 7 do_find(input.value); 8 }; 9&amp;lt;/script&amp;gt; URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒã‚ã‚‹ã¨ã€èª­ã¿è¾¼ã¿æ™‚ã«è‡ªå‹•ã§æ¤œç´¢ã•ã‚Œã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚ 5.CSSã®é©ç”¨ ãƒªã‚¹ãƒˆéƒ¨åˆ†ã¯ã€ãƒ†ãƒ¼ãƒã®HTMLã‚’ä½¿ã„ã¾ã‚ã™äº‹ã«ã‚ˆã£ã¦CSSã‚‚é©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã‚ã¨ã¯ã€ä»¥ä¸‹ã®åˆ†ã‚’æ›¸ãè¶³ã›ã°ã„ã„ã¨æ€ã„ã¾ã™ã€‚ ã‚ãã¾ã§ä¾‹ãªã®ã§ã€é©å®œæ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚ 1&amp;lt;style&amp;gt; 2 body { 3 background: var(--custom-bg); 4 } 5 h1 { 6 margin-left: 2%; 7 } 8 #searchbox { 9 margin-left: 2%; 10 margin-top: 10px; 11 margin-bottom: 10px; 12 } 13 input { 14 background: none; 15 border: none; 16 border-radius: 0; 17 outline: none; 18 -webkit-appearance: none; 19 -moz-appearance: none; 20 appearance: none; 21 max-width: 230px; 22 color:var(--text); 23 border-bottom:var(--header-text) 2px solid; 24 font-size: 30px; 25 margin-right: 5px; 26 } 27 b{ 28 color: #0077B8; 29 background-color: #D3E0EA; 30 font-weight: 600; 31 padding: 3px; 32 border-radius: 3px; 33 } 34 #navi { 35 font-size: 25px; 36 margin-left: 3%; 37 } 38 #navi span{ 39 border: 1px solid #0077B8; 40 padding: 0 0.5em; 41 cursor: pointer; 42 border-radius: 3px; 43 } 44 span.selected{ 45 color: #0077B8; 46 background : #D3E0EA; 47 } 48 .searchbar{ 49 display: none; 50 } 51&amp;lt;/style&amp;gt; ã¡ãªã¿ã«ã€éè¡¨ç¤ºã«ã—ã¦ã„ã‚‹.searchbarã¨ã„ã†ã®ã¯ã€å¾Œè¿°ã™ã‚‹ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒœãƒƒã‚¯ã‚¹ã®ã“ã¨ã§ã™ã€‚ 6.ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã‚’è¿½åŠ  ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®HTMLï¼ˆClarityãƒ†ãƒ¼ãƒã§ã¯themes/ãƒ†ãƒ¼ãƒå/layouts/partials/sidebar.htmlï¼‰ã‚’ãƒ†ãƒ¼ãƒå†…ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰è¦‹ã¤ã‘ã¦ã€ layouts/ä»¥ä¸‹ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚ ãã—ã¦ã€ä»¥ä¸‹ã®divã‚’æ›¸ãè¶³ã—ã¦ãã ã•ã„ã€‚ 1&amp;lt;div class=&amp;#34;searchbar&amp;#34;&amp;gt; 2 &amp;lt;h2&amp;gt;Search&amp;lt;/h2&amp;gt; 3 &amp;lt;input type=&amp;#34;text&amp;#34; id=&amp;#34;search&amp;#34; class=&amp;#34;search&amp;#34;/&amp;gt; 4 &amp;lt;script&amp;gt; 5 const input = document.getElementById(&amp;#34;search&amp;#34;); 6 input.addEventListener(&amp;#39;keypress&amp;#39;, (e) =&amp;gt; { 7 if (e.key === &amp;#39;Enter&amp;#39;) { 8 window.location.href = {{ absURL &amp;#34;search/&amp;#34; }} &#43; &amp;#34;?q=&amp;#34; &#43; encodeURI(input.value); 9 } 10 }); 11 &amp;lt;/script&amp;gt; 12&amp;lt;/div&amp;gt; ãŠã‚ã‚Šã« ä»¥ä¸Šã§å®Œæˆã§ã™ã€‚ ã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨ã“ã®å¾Œã®CSSèª¿æ•´ã®æ–¹ãŒæ™‚é–“ãŒã‹ã‹ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ ã“ã‚Œã§ã¨ã‚Šã‚ãˆãšå‹•ãã¨ã“ã‚ã¾ã§ã§ããŸã¨æ€ã„ã¾ã™ã€‚]"
}



,
{
url: "https://luke-1220.github.io/post/lastmod/",
title: "ã€Hugoã€‘Robustãƒ†ãƒ¼ãƒã§è¨˜äº‹ã‚’æ›´æ–°é †ã«ä¸¦ã¹ã‚‹",
ctime: "2020/08/04",
content: "[Hugoã®Robustãƒ†ãƒ¼ãƒã§è¨˜äº‹ã‚’æ›´æ–°é †ã«ä¸¦ã¹ã€è¨˜äº‹ä¸€è¦§ã«æ›´æ–°æ—¥ã‚’è¡¨ç¤ºã•ã›ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ ã¯ã˜ã‚ã« Qiitaã‹ã‚‰å¼•ã£è¶Šã—ãŸè¨˜äº‹ãªã©ã«dateã¨lastmodã‚’è¨­å®šã—ãŸã®ã§ã™ãŒã€è¨˜äº‹ä¸€è¦§ãŒä½œæˆæ—¥é †ã«ãªã£ã¦ã„ã‚‹ã®ãŒæ°—ã«ãªã‚Šã¾ã—ãŸã€‚ ã‚‚ã—ã€æ˜”æ›¸ã„ãŸè¨˜äº‹ã‚’å¤§å¹…ã«æ›¸ãæ›ãˆã¦æœ€æ–°ã®å†…å®¹ã«ã—ãŸã®ã«ã€ä½œæˆæ—¥ãŒå¤ã„ã›ã„ã§å¾Œã‚ã®æ–¹ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€ãªã‚“ã¦ã“ã¨ãŒã‚ã£ãŸã‚‰å›°ã‚Šã¾ã™ã€‚ ãã“ã§ä»Šå›ã¯ã€è¨˜äº‹ã‚’æ›´æ–°é †ã«ä¸¦ã¹ã¦ã¿ã¾ã™ã€‚ è¨˜äº‹ã‚’æ›´æ–°é †ã«ä¸¦ã¹ã‚‹ themes/hugo_theme_robust/layouts/_default/list.htmlã‚’ã€layouts/_default/list.htmlã«ã‚³ãƒ”ãƒ¼ã€‚ 1{{ range $paginator.Pages }} ã“ã®éƒ¨åˆ†ï¼ˆâŒ˜Fã§æ¢ã—ã¦ãã ã•ã„ï¼‰ã«æ›¸ãè¶³ã™ã ã‘ã§ã™ã€‚ 1{{ range $paginator.Pages.ByLastmod.Reverse }} .ByLastmodã§æ›´æ–°æ—¥ã®å¤ã„é †ã«ã—ã€.Reverseã§æ–°ã—ã„é †ã«ä¸¦ã³æ›¿ãˆã¾ã™ã€‚ è¿½è¨˜ çµå±€ã€è¨˜äº‹ä¸€è¦§ã®æ–¹ã¯ä½œæˆæ—¥é †ã«æˆ»ã—ã¾ã—ãŸã€‚ æ›´æ–°é †ã«ã™ã‚‹ã®ã¯LATESTSã ã‘ã§è‰¯ã„ã‹ãªâ€¦ã€‚ è¨˜äº‹ä¸€è¦§ã«æ›´æ–°æ—¥ã‚’è¡¨ç¤ºã•ã›ã‚‹ themes/hugo_theme_robust/layouts/_default/li_sm.htmlã‚‚layouts/_default/li_sm.htmlã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚ li_sm.htmlã¨list.htmlã‹ã‚‰ä»¥ä¸‹ã®ä¸€è¡Œã‚’æ¢ã—ã€ 1&amp;lt;li&amp;gt;&amp;lt;i class=&amp;#34;fas fa-calendar&amp;#34; aria-hidden=&amp;#34;true&amp;#34;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;time datetime=&amp;#34;{{ .Date.Format &amp;#34;2007-01-02T15:04:05JST&amp;#34; }}&amp;#34;&amp;gt;{{ .Date.Format ( .Site.Params.dateformat | default &amp;#34;Jan 2, 2006&amp;#34;) }}&amp;lt;/time&amp;gt;&amp;lt;/li&amp;gt; å‰Šé™¤ã—ã¦ã‹ã‚‰ã€ã“ã®ifæ–‡ã‚’ä¸¸ã”ã¨ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚ 1{{ if ne .Date .Lastmod }} 2&amp;lt;li&amp;gt;&amp;lt;i class=&amp;#34;fas fa-sync&amp;#34; aria-hidden=&amp;#34;true&amp;#34;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;time datetime=&amp;#34;{{ .Lastmod.Format &amp;#34;2006-01-02T15:04:05JST&amp;#34; }}&amp;#34;&amp;gt;{{ .Lastmod.Format ( .Site.Params.dateformat | default &amp;#34;Jan 2, 2006&amp;#34;) }}&amp;lt;/time&amp;gt;&amp;lt;/li&amp;gt; 3{{ else }} 4&amp;lt;li&amp;gt;&amp;lt;i class=&amp;#34;fas fa-calendar&amp;#34; aria-hidden=&amp;#34;true&amp;#34;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;time datetime=&amp;#34;{{ .Date.Format &amp;#34;2006-01-02T15:04:05JST&amp;#34; }}&amp;#34;&amp;gt;{{ .Date.Format ( .Site.Params.dateformat | default &amp;#34;Jan 2, 2006&amp;#34;) }}&amp;lt;/time&amp;gt;&amp;lt;/li&amp;gt; 5{{ end }} ã“ã‚Œã§ã€æ›´æ–°æ—¥ãŒã‚ã‚‹å ´åˆã¯ãã¡ã‚‰ãŒè¡¨ç¤ºã•ã‚Œã€ãªã„å ´åˆï¼ˆã¾ãŸã¯ä½œæˆæ—¥ã¨åŒã˜å ´åˆï¼‰ã¯ä½œæˆæ—¥ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ ã¡ãªã¿ã«ã€li_sm.htmlãŒã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã€ŒLATESTSã€ã‚„è¨˜äº‹ãƒšãƒ¼ã‚¸ä¸‹éƒ¨ã®ã€Œæ¬¡ã®è¨˜äº‹ã€æ¬„ã®HTMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã€list.htmlã¯ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‚„ã‚«ãƒ†ã‚´ãƒªãƒšãƒ¼ã‚¸ã®ãŸã‚ã®HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚ˆã†ã§ã™ã€‚ å‚è€ƒ æœ€è¿‘æ›´æ–°ã•ã‚ŒãŸè¨˜äº‹ï¼ˆæ–°ç€è¨˜äº‹ï¼‰ã®ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹]"
}



,
{
url: "https://luke-1220.github.io/post/get-related-articles/",
title: "ã€Swift5ã€‘ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®é‡è¤‡ã§ã€Œé–¢é€£è¨˜äº‹ã€ã‚’å–å¾—ã—ã¦ã¿ã‚‹",
ctime: "2020/06/07",
content: "[ä»Šå›ã¯ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¢ãƒ—ãƒªã®è¨˜äº‹ãƒšãƒ¼ã‚¸ã®ä¸€ç•ªä¸‹ã«ã‚ã‚‹ã€Œé–¢é€£è¨˜äº‹ã€ã‚’é¸ã¶é–¢æ•°ã‚’ä½œã£ãŸã®ã§å…±æœ‰ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ ä½¿ç”¨ã™ã‚‹ã‚¯ãƒ©ã‚¹ 1class Entry: NSObject, NSCoding { 2 var title:String? 3 //çœç•¥ 4} è‡ªåˆ†ã®ã‚¢ãƒ—ãƒªã§ã¯ã€titleã®ä»–ã«URLãªã©ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚æŒãŸã›ã¦ã„ã¾ã™ã€‚ å®Œæˆå“ 1func getRelatedArticle(entry:Entry, entries:[Entry]) -&amp;gt; [Entry] { 2 3 let exempt = [&amp;#34;ã§&amp;#34;,&amp;#34;ã®&amp;#34;,&amp;#34;ã¯&amp;#34;,&amp;#34;ã‚’&amp;#34;,&amp;#34;ã‚‚&amp;#34;,&amp;#34;ãŒ&amp;#34;,&amp;#34;ã«&amp;#34;,&amp;#34;ä¸‡&amp;#34;,&amp;#34;å††&amp;#34;] 4 var words:[String] = [] 5 var counts:Dictionary&amp;lt;Entry,Int&amp;gt; = [:] 6 let checkEntries = entries.filter {$0 != entry} 7 8 let wordTokenizer = NLTokenizer(unit: .word) 9 wordTokenizer.string = entry.title 10 wordTokenizer.enumerateTokens(in: entry.title!.startIndex..&amp;lt;entry.title!.endIndex) { tokenRange, _ in 11 let word = String(entry.title![tokenRange]).localizedUppercase 12 if !exempt.contains(word) { 13 words.append(word) 14 print(word) 15 } 16 return true 17 } 18 //print(&amp;#34;contains:\(words)&amp;#34;) 19 20 for e in checkEntries { 21 var count = 0 22 let text = e.title! 23 wordTokenizer.string = text 24 wordTokenizer.enumerateTokens(in: text.startIndex..&amp;lt;text.endIndex) { tokenRange, _ in 25 //print( text[tokenRange]) 26 if words.contains(String(text[tokenRange].localizedUppercase)) { 27 count &#43;= 1 28 } 29 return true 30 } 31 counts.updateValue(count, forKey: e) 32 } 33 let sorted = Array(counts).sorted {$0.1 &amp;gt; $1.1}.prefix(3) 34 var related:[Entry] = [] 35 for (key,value) in (sorted) { 36 //print(&amp;#34;\(key.title!) å˜èªæ•°:\(value)&amp;#34;) 37 related.append(key) 38 } 39 return related 40} å…¨ã¦ã®è¨˜äº‹åã‚’å˜èªã«åˆ†è§£ã—ã¦ã€é‡è¤‡ã™ã‚‹å˜èªãŒå¤šã‹ã£ãŸè¨˜äº‹ã‚’é–¢é€£è¨˜äº‹ã¨ã—ã¦é¸ã‚“ã§ã„ã¾ã™ã€‚ åˆ†è§£ã«ã¯æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®NaturalLanguageã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§å¿˜ã‚Œãšã«importã—ã¦ãã ã•ã„ã€‚ 1import NaturalLanguage ä½¿ç”¨ä¾‹ 1//nowEntry -&amp;gt; ä»Šè¦‹ã¦ã„ã‚‹è¨˜äº‹ 2//AllEntries -&amp;gt; å…¨ã¦ã®è¨˜äº‹ã®é…åˆ— 3let related = getRelatedArticle(entry: nowEntry, entries: AllEntries) 4print(related.map({$0.title!})) å‡ºåŠ›çµæœ ã“ã®è¨˜äº‹ã§å®Ÿé¨“ã—ã¦ã¿ã¾ã—ãŸã€‚ ã¾ãŸã€å…¨è¨˜äº‹ã®ãƒªã‚¹ãƒˆã¯ã„ãã¤ã‹ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆã®RSSã‹ã‚‰å–å¾—ã—ã¦ã„ã¾ã™ã€‚ è—¤äº•ä¸ƒæ®µã€Œå……å®Ÿæ„ŸãŒâ€¦ã€æ£‹è–æˆ¦ç¬¬ä¸€å±€ã«å‹åˆ© ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ã‚ã‚‹printã‚’ä½¿ãˆã°ãƒ­ã‚°ã§ç¢ºèªã§ãã¾ã™ã€‚ æŠ½å‡ºã—ãŸå˜èªã¨ã€é–¢é€£è¨˜äº‹ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã—ãŸã€‚ contains:[&amp;quot;è—¤äº•&amp;quot;, &amp;quot;ä¸ƒ&amp;quot;, &amp;quot;æ®µ&amp;quot;, &amp;quot;å……å®Ÿ&amp;quot;, &amp;quot;æ„Ÿ&amp;quot;, &amp;quot;æ£‹è–&amp;quot;, &amp;quot;æˆ¦&amp;quot;, &amp;quot;ç¬¬&amp;quot;, &amp;quot;ä¸€&amp;quot;, &amp;quot;å±€&amp;quot;, &amp;quot;å‹åˆ©&amp;quot;, &amp;quot;6&amp;quot;, &amp;quot;8&amp;quot;, &amp;quot;21&amp;quot;, &amp;quot;33&amp;quot;, &amp;quot;æ›´æ–°&amp;quot;] è—¤äº•ä¸ƒæ®µã€æ£‹è–æˆ¦ç¬¬ä¸€å±€ã§æ¸¡è¾ºä¸‰å† ã«å‹åˆ© 6/8 20:08æ›´æ–° å˜èªæ•°:12 è—¤äº•ä¸ƒæ®µãŒæœ€å¹´å°‘ã§æŒ‘æˆ¦ ã€Œæ£‹è–æˆ¦ã€å§‹ã¾ã‚‹ 6/8 12:05æ›´æ–° å˜èªæ•°:8 çµŒå›£é€£ä¼šé•· ç¬¬ï¼’æ¬¡è£œæ­£äºˆç®—æ¡ˆã‚’è©•ä¾¡ 6/8 21:48æ›´æ–° å˜èªæ•°:5 è—¤äº•ä¸ƒæ®µã®ä»–ã®è¨˜äº‹ã¯å–å¾—ã§ãã¦ã„ã‚‹ã®ã§ã€å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚ ãŸã ã€ã‚„ã£ã±ã‚Šç²¾åº¦ãŒå¾®å¦™ãªã®ã§ã€Œã“ã®è¨˜äº‹ã‚‚ã‚ªã‚¹ã‚¹ãƒ¡ã€ã¿ãŸã„ãªæ„Ÿã˜ã§è¡¨ç¤ºã•ã›ãŸæ–¹ãŒã„ã„ã‹ã‚‚ã€‚ è£œè¶³ã€è§£èª¬ 1let exempt = [&amp;#34;ã§&amp;#34;,&amp;#34;ã®&amp;#34;,&amp;#34;ã¯&amp;#34;,&amp;#34;ã‚’&amp;#34;,&amp;#34;ã‚‚&amp;#34;,&amp;#34;ãŒ&amp;#34;,&amp;#34;ã«&amp;#34;,&amp;#34;ä¸‡&amp;#34;,&amp;#34;å††&amp;#34;] ã“ã“ã§é™¤å¤–ã™ã‚‹å˜èªã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ è‹±èªã®ã‚µã‚¤ãƒˆã§ã¯ã€Œaã€ã€Œtheã€ã€Œinã€ãªã©ã®ãƒ¯ãƒ¼ãƒ‰ãŒä½™è¨ˆã§ã—ãŸã€‚ å¾Œã€…ã€ã²ã‚‰ãŒãªä¸€æ–‡å­—ã¨ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆä¸€æ–‡å­—ã‚’è‡ªå‹•ã§é™¤å¤–ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚ 1for (key,value) in (Array(counts).sorted {$0.1 &amp;gt; $1.1}.prefix(3)) { 2 //print(&amp;#34;\(key.title!) å˜èªæ•°:\(value)&amp;#34;) 3 related.append(key) 4} ã“ã“ã®prefix(3)ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§å–å¾—ã™ã‚‹è¨˜äº‹ã®æ•°ãŒå¤‰æ›´ã§ãã¾ã™ã€‚ èª²é¡Œ ã“ã®è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã®ã‚ˆã†ã«æ‹¬å¼§ãªã©ã®è¨˜å·ãªã©ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¨å˜èªãŒå–å¾—ã§ããªã„ å‚è€ƒ https://dev.classmethod.jp/articles/ios12-natural-language-tokenizing/]"
}



,
{
url: "https://luke-1220.github.io/post/pre-fill-form/",
title: "ã€Swift5ã€‘Googleãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ã‚‰ã‹ã˜ã‚è‡ªå‹•å…¥åŠ›ã™ã‚‹",
ctime: "2020/05/25",
content: "[ã‚¢ãƒ—ãƒªã®ä¸å…·åˆã®å ±å‘Šãªã©ã§ã€OSæƒ…å ±ã‚„ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã©ã®æƒ…å ±ãŒã‚ã‚‹ã¨ã¨ã¦ã‚‚åŠ©ã‹ã‚Šã¾ã™ã‚ˆã­ã€‚ ãã“ã§ä»Šå›ã¯ã€ãã‚Œã‚‰ã®é …ç›®ã‚’è‡ªå‹•å…¥åŠ›ã—ã¦ãã‚Œã‚‹ãƒ•ã‚©ãƒ¼ãƒ ã®ä½œã‚Šæ–¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ æ–¹æ³• Googleãƒ•ã‚©ãƒ¼ãƒ ã«ã¯ã€è‡ªå‹•å…¥åŠ›æ¸ˆã¿ã®URLã‚’ç™ºè¡Œã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã®URLã®ä¸€éƒ¨ã‚’Swiftã§æ›¸ãæ›ãˆã‚Œã°ã„ã„ã®ã§ã™ã€‚ 1. ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆ ã“ã¡ã‚‰ã‹ã‚‰ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ ä½œæˆæ–¹æ³•ã«ã¤ã„ã¦ã¯èª¬æ˜ã‚’å‰²æ„›ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚ 2. URLã‚’ç”Ÿæˆ ãƒ•ã‚©ãƒ¼ãƒ ä½œæˆç”»é¢ã®å³ä¸Šã«ã‚ã‚‹ã€ãƒ»ãŒç¸¦ã«3ã¤ä¸¦ã‚“ã ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã‹ã‚‰ã€ã€Œäº‹å‰å…¥åŠ›ã—ãŸURLã‚’å–å¾—ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ ã™ã‚‹ã¨ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ç”»é¢ã«é£›ã¶ã®ã§ã€äº‹å‰å…¥åŠ›ã—ã¦ãŠããŸã„é …ç›®ã«åˆ†ã‹ã‚Šã‚„ã™ã„æ–‡å­—åˆ—ã‚’å…¥åŠ›ã—ã¦ãŠãã¾ã™ã€‚ ã€Œãƒªãƒ³ã‚¯ã‚’å–å¾—ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨URLãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚ ç”»é¢å·¦ä¸‹ã®ã€Œãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã€ã‚’æŠ¼ã—ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ è‡ªåˆ†ã®å ´åˆã¯ã“ã®ã‚ˆã†ãªãƒªãƒ³ã‚¯ã«ãªã‚Šã¾ã—ãŸã€‚ https://docs.google.com/forms/d/e/1FAIpQLScUGRP-Pbs0bpBw2MtwjN6OpxeoHgUjloGV-OMNVOBvEkLJ6A/viewform?usp=pp_url&amp;amp;entry.1009686721=osversion&amp;amp;entry.1835889012=appversion 3. OSæƒ…å ±ã€ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾— OSåã¯UIDevice.current.systemNameã€OSãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯UIDevice.current.systemVersionã§å–å¾—å¯èƒ½ã§ã™ã€‚ï¼ˆã©ã¡ã‚‰ã‚‚Stringã§ã™ï¼‰ 1let os = &amp;#34;\(UIDevice.current.systemName)%20\(UIDevice.current.systemVersion)&amp;#34; 2let version = Bundle.main.object(forInfoDictionaryKey: &amp;#34;CFBundleShortVersionString&amp;#34;) as? String ã“ã®æ–‡å­—åˆ—ã¯URLã®ä¸€éƒ¨ã¨ãªã‚‹ãŸã‚ã€ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆç©ºç™½ï¼‰ã¯ä½¿ã£ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚ ä»£ã‚ã‚Šã«%20ã‚’ä½¿ç”¨ã™ã‚‹ã¨ç©ºç™½ã«ãªã‚Šã¾ã™ã€‚ è¿½è¨˜ æ©Ÿç¨®ã®åå‰ã‚’å–å¾—ã™ã‚‹ æ­£ç¢ºãªæ©Ÿç¨®åï¼ˆä¾‹ãˆã°ã€ŒiPhone XSã€ãªã©ï¼‰ã‚’å–å¾—ã™ã‚‹ãŸã‚ã€YMTGetDeviceNameã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ 1var device = YMTGetDeviceName.share.getDeviceName() 2if let devName = device.range(of: &amp;#34; &amp;#34;) { 3 device.replaceSubrange(devName, with: &amp;#34;%20&amp;#34;) 4} rangeã‚’ä½¿ã£ã¦ã€ç©ºç™½ã‚’%20ã«ç½®ãæ›ãˆã¦ã„ã¾ã™ã€‚ 4. URLã®æ›¸ãæ›ãˆ å…ˆã»ã©ã®URLã®osversionã®éƒ¨åˆ†ã‚’\(os)ã«ã€appversionã®éƒ¨åˆ†ã‚’\(version)ã«æ›¸ãæ›ãˆã‚‹ã ã‘ã§ã™ã€‚ 1let url = URL(string:&amp;#34;https://docs.google.com/forms/d/e/1FAIpQLScUGRP-Pbs0bpBw2MtwjN6OpxeoHgUjloGV-OMNVOBvEkLJ6A/viewform?usp=pp_url&amp;amp;entry.1009686721=\(os)&amp;amp;entry.1835889012=\(version!)&amp;#34;) 2UIApplication.shared.open(url! as URL) å‹•ä½œç¢ºèª å•é¡Œãªãè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰‹é–“ã‚’çœã‘ã‚‹ã®ã§ã€è©¦ã™ä¾¡å€¤ã¯ã‚ã‚‹ã¨æ€ã„ã¾ã™ï¼]"
}



,
{
url: "https://luke-1220.github.io/post/original-class-save/",
title: "ã€Swift5ã€‘è‡ªä½œã‚¯ãƒ©ã‚¹ï¼ˆã¨é…åˆ—ï¼‰ã‚’UserDefaultsã«ç°¡å˜ã«ä¿å­˜ã™ã‚‹",
ctime: "2020/05/24",
content: "[ã“ã®è¨˜äº‹ã§ã¯è‡ªä½œã‚¯ãƒ©ã‚¹ã‚’UserDefaultsã«ç°¡å˜ã«ä¿å­˜ã™ã‚‹é–¢æ•°ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ ã¡ã‚‡ã£ã¨ã—ãŸãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ã¯UserDefaultsã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ä¿å­˜ã§ãã‚‹å‹ãŒé™ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ å¯¾å¿œã—ã¦ã„ãªã„å ´åˆã¯Dataã«å¤‰æ›ã—ã¦ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€å°‘ã—é¢å€’ã§ã™ã€‚ ãã“ã§ä»Šå›ã¯é–¢æ•°ï¼ˆã¨è¨€ã£ã¦ã‚‚å¤§ã—ãŸã“ã¨ã¯ãªã„ã§ã™ãŒï¼‰ã‚’ä½œæˆã—ã¾ã—ãŸã€‚ ä¿å­˜ã—ãŸã„ã‚¯ãƒ©ã‚¹ 1 class Friend: NSObject, NSCoding { 2 var name:String? 3 var age:Int? 4 5 init(_ name: String?, _age: Int?) { 6 self.name = name 7 self.age= age 8 } 9 10 func encode(with coder: NSCoder) { 11 coder.encode(name, forKey: &amp;#34;name&amp;#34;) 12 coder.encode(age, forKey: &amp;#34;age&amp;#34;) 13 } 14 15 required init?(coder: NSCoder) { 16 name = coder.decodeObject(forKey: &amp;#34;name&amp;#34;) as? String 17 age = coder.decodeObject(forKey: &amp;#34;age&amp;#34;) as? Int 18 } 19 } ãƒã‚¤ãƒ³ãƒˆã¯ï¼‘è¡Œç›®ã«: NSObject, NSCodingã¨åŠ ãˆã‚‹ã“ã¨ã¨ã€ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãƒ»ãƒ‡ã‚³ãƒ¼ãƒ‰ã®éƒ¨åˆ†ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§ã™ã€‚ ä¿å­˜ã€å–å¾—ç”¨ã®é–¢æ•° é€šå¸¸ 1 extension UserDefaults { 2 func getFriend(_ key:String) -&amp;gt; Friend? { 3 if let storedData = UserDefaults.standard.object(forKey: key) as? Data { 4 if let unarchivedObject = try! NSKeyedUnarchiver.unarchiveTopLevelObjectWithData(storedData) as? Friend { 5 return unarchivedObject 6 } 7 } 8 return nil 9 } 10 11 func setFriend(_ friend:[Friend],_ key:String) { 12 let data = try! NSKeyedArchiver.archivedData(withRootObject: friend, requiringSecureCoding: false) 13 UserDefaults.standard.set(data, forKey: key) 14 } 15 } é…åˆ—ã®å ´åˆ 1 extension UserDefaults { 2 func getFriends(_ key:String) -&amp;gt; [Friend]? { 3 if let storedData = self.object(forKey: key) as? Data { 4 if let unarchivedObject = try! NSKeyedUnarchiver.unarchiveTopLevelObjectWithData(storedData) as? [Friend] { 5 return unarchivedObject 6 } 7 } 8 return nil 9 } 10 11 func setFriends(_ friends:[Friend],_ key:String) { 12 let data = try! NSKeyedArchiver.archivedData(withRootObject: friends, requiringSecureCoding: false) 13 self.set(data, forKey: key) 14 } 15 } ä½¿ç”¨æ–¹æ³• ã“ã®é–¢æ•°ã¯UserDefaultsã®æ‹¡å¼µãªã®ã§ã€ã“ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚ é€šå¸¸ 1 let boy = Friend.init(&amp;#34;Tom&amp;#34;,25) 2 //ä¿å­˜ 3 UserDefaults.standard.setFriend(boy,&amp;#34;friend&amp;#34;) 4 //å–å¾— 5 let friend = UserDefaults.standard.getFriend(&amp;#34;friend&amp;#34;) é…åˆ—ã®å ´åˆ 1 let boys = [Friend.init(&amp;#34;Tom&amp;#34;,25),Friend.init(&amp;#34;Bob&amp;#34;,18)] 2 //ä¿å­˜ 3 UserDefaults.standard.setFriends(boys,&amp;#34;friends&amp;#34;) 4 //å–å¾— 5 let friends = UserDefaults.standard.getFriends(&amp;#34;friends&amp;#34;) ãŠã‚ã‚Šã« é€šå¸¸ã®UserDefaultsã®ã‚ˆã†ã«ï¼‘è¡Œã§ä½¿ãˆã‚‹ã®ã§ã€ã‚³ãƒ¼ãƒ‰ãŒè¦‹ã‚„ã™ããªã‚‹ã¨æ€ã„ã¾ã™ã€‚ é–“é•ã£ã¦ã„ã‚‹éƒ¨åˆ†ãŒã‚ã£ãŸã‚‰æ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨åŠ©ã‹ã‚Šã¾ã™ğŸ™‡â€â™‚ï¸]"
}

]
